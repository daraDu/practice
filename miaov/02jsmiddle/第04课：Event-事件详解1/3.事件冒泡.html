<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>事件冒泡</title>
<style>
	div{padding:50px;}
	#div1{background:red}
	#div2{background:blue}
	#div3{background:green}
	
	.div1{width:50px;height:150px;border:5px solid #f00;display:none;}
</style>
<script>
window.onload = function() {
	var oDiv1 = document.getElementById("div1");
	var oDiv2 = document.getElementById("div2");
	var oDiv3 = document.getElementById("div3");
	var oBtn = document.getElementsByTagName("button")[0];
	var oBox = document.getElementsByClassName("div1")[0];
	function fn1(){
		alert(this.id)
	};
	oDiv1.onclick = fn1;
	oDiv2.onclick = fn1;
	oDiv3.onclick = fn1;
	
	oBtn.onclick = function(ev){
		oBox.style.display = 'block';
		var ev = ev || event;
		ev.cancelBubble = true; //阻止事件冒泡
	}
	document.onclick = function(){
		oBox.style.display = 'none';
	}
}
</script>
</head>

<body>
	<div id='div1'>
		<div id='div2'>
			<div id='div3'></div>
		</div>
	</div>
	
	<button>按钮</button>
	<div class='div1'></div>
</body>
</html>

