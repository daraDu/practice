<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>点击往下掉，再点击飘回来</title>
<script src="miaov.js"></script>
</head>
<script>
	window.onload=function(){
		var html ="";
		for(var i=0; i < 20; i++){
			html += '<div style="width:50px;height:50px;background:#f00;position:absolute;top:10px;left:'+60*i+'px">'+i+'</div>'
		}
		document.body.innerHTML=html;
		var oDiv=document.getElementsByTagName("div");
		var lists=oDiv.length;
		var num=0;
		var nowP=true;
		var flag=true;
		document.onclick=function(){
			if(!flag){
				return;
			}
			flag=true;
			if(nowP){
				upOn(300,function(){
					flag=true;
				});
				nowP=false;
			}else{
				upOn(30,function(){
					flag=true;
				});
				nowP=true;
				
			}	
		};
		
		function upOn(endPoint,flag){
			clearInterval( timer );
			var timer = setInterval( function (){
				doMove( oDiv[num], 'top', 23, endPoint);
				num ++;
				flag;
				if ( num === lists ) {
					clearInterval( timer );
					num =0;
				}
			}, 100 );
		}
	}
</script>
<body>

</body>
</html>
